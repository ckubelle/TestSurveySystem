<form [formGroup]="myForm" fxLayout= "column" fxLayoutAlign="center">

    <mat-form-field>
        <input matInput placeholder="Enter Test/Survey Name" formControlName="email">

        <mat-error *ngIf="email.pristine">
            Please Enter a Test/Survey Name
        </mat-error>

    </mat-form-field>

    <div formArrayName="phones">

        <div *ngFor ="let phone of phoneForms.controls; let i=index" [formGroupName]="i" fxLayout="column" fxLayoutAlign="space-around center">

            <mat-card>
                <div fxLayout="column" fxLayoutAlign="space-between start">
                    <mat-card-content>
                        <h3 class="mat-headline">Question #{{i+1}}</h3>
                    </mat-card-content>
                    
                    <mat-form-field>
                        <input matInput placeholder="Question" formControlName="question">
                    </mat-form-field>
        
        
                    <mat-form-field>
                        <mat-label> Question Type </mat-label>
                        <mat-select value="questionType" (selectionChange)= "selectqType($event)" value="answerType"> 
                            <mat-option value = "sa">Short Answer</mat-option>
                            <mat-option value = "mc">Multiple Choice</mat-option>
                            <mat-option value = "ea">Essay Answer</mat-option>
                            <mat-option value = "mmc">Multiple Multiple Choice</mat-option>
                            <mat-option value = "tf">True/False</mat-option>
                            <mat-option value = "ra">Ranking</mat-option>
                            <mat-option value = "ma">Matching</mat-option>
                        </mat-select>
                    </mat-form-field>

                        <div *ngIf= "mc">
                            <mat-form-field>
                                <input matInput placeholder="Multiple Choice Option 1">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Multiple Choice Option 2">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Multiple Choice Option 3">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput placeholder="Multiple Choice Option 4">
                            </mat-form-field>
                        </div>

                        <div *ngIf= "sa">
                            <mat-form-field>
                                <input matInput placeholder="Short Answer">
                            </mat-form-field>
                        </div>

                        <div *ngIf= "ea">
                            <mat-form-field>
                                <input matInput placeholder="Essay Answer">
                            </mat-form-field>
                        </div>

                        <div *ngIf= "mmc">
                            <mat-form-field>
                                <input matInput placeholder="Multiple multiple choice Answer">
                            </mat-form-field>
                        </div>

                        <div *ngIf= "tf">
                            <mat-form-field>
                                <input matInput placeholder="True/false Answer">
                            </mat-form-field>
                        </div>

                        <div *ngIf= "ra">
                            <mat-form-field>
                                <input matInput placeholder="Ranking Answer">
                            </mat-form-field>
                        </div>

                        <div *ngIf= "ma">
                            <mat-form-field>
                                <input matInput placeholder="Matching Answer">
                            </mat-form-field>
                        </div>

                        

                    <button mat-raised-button color="warn" (click)="deletePhone(i)">Delete</button>
            
    
                </div>
            </mat-card>
            <br>


            
        </div>
    </div>

    <br>
    <button mat-raised-button (click)="addPhone()">Add Question</button>

    <br>
    <button mat-raised-button [disabled]="myForm.invalid" color=primary>Submit</button>

</form>